warning: unused import: `zenb_pipeline`
  --> crates/zenb-core/src/perception_subsystem.rs:19:28
   |
19 | use crate::skandha::zenb::{zenb_pipeline, ZenbPipeline, ZenbRupa};
   |                            ^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused import: `Context`
   --> crates/zenb-core/src/skandha.rs:510:52
    |
510 |     use crate::belief::{BeliefEngine, BeliefState, Context, FepState};
    |                                                    ^^^^^^^

warning: unused variable: `xtx`
   --> crates/zenb-core/src/causal/dagma.rs:274:46
    |
274 | ...&self, w: &DMatrix<f32>, xtx: &DMatrix<f32>, data: &DMatrix<f32>) ->...
    |                             ^^^ help: if this is intentional, prefix it with an underscore: `_xtx`
    |
    = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `residual`
   --> crates/zenb-core/src/causal/notears.rs:174:17
    |
174 |             let residual = data * &w - data;
    |                 ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_residual`

warning: unused variable: `xtx`
   --> crates/zenb-core/src/causal/notears.rs:261:46
    |
261 | ...&self, w: &DMatrix<f32>, xtx: &DMatrix<f32>, data: &DMatrix<f32>) ->...
    |                             ^^^ help: if this is intentional, prefix it with an underscore: `_xtx`

warning: unused variable: `learning_rate`
   --> crates/zenb-core/src/causal.rs:521:9
    |
521 |         learning_rate: f32,
    |         ^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_learning_rate`

warning: unused variable: `n_vars`
   --> crates/zenb-core/src/causal.rs:753:13
    |
753 |         let n_vars = Variable::COUNT;
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_n_vars`

warning: variable does not need to be mutable
   --> crates/zenb-core/src/config.rs:345:14
    |
345 |     fn merge(mut self, other: ZenbConfig) -> Self {
    |              ----^^^^
    |              |
    |              help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` on by default

warning: unused variable: `timestamp_us`
   --> crates/zenb-core/src/control_flow.rs:199:46
    |
199 |                 ZenBProtocol::BeliefUpdate { timestamp_us, .. } => {
    |                                              ^^^^^^^^^^^^-
    |                                              |
    |                                              help: try removing the field

warning: variable does not need to be mutable
   --> crates/zenb-core/src/engine.rs:129:13
    |
129 |         let mut cfg = ZenbConfig::default();
    |             ----^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> crates/zenb-core/src/engine.rs:135:13
    |
135 |         let mut cfg = config.unwrap_or_default();
    |             ----^^^
    |             |
    |             help: remove this `mut`

warning: variable does not need to be mutable
   --> crates/zenb-core/src/engine.rs:840:13
    |
840 |         let mut patch = crate::safety_swarm::PatternPatch {
    |             ----^^^^^
    |             |
    |             help: remove this `mut`

warning: unused variable: `alpha`
  --> crates/zenb-core/src/memory/krylov.rs:86:17
   |
86 |             let alpha = self.v[j].dot(&w); // dot implies conjugate of f...
   |                 ^^^^^ help: if this is intentional, prefix it with an underscore: `_alpha`

warning: unused variable: `belief_state`
   --> crates/zenb-core/src/policy.rs:325:9
    |
325 |         belief_state: &[f32; 5],
    |         ^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_belief_state`

warning: unused variable: `intent`
   --> crates/zenb-core/src/skandha.rs:809:13
    |
809 |             intent: &FormedIntent,
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_intent`

warning: field `attention` is never read
   --> crates/zenb-core/src/estimators/ukf.rs:108:5
    |
106 | struct TargetState {
    |        ----------- field in this struct
107 |     arousal: f32,
108 |     attention: f32,
    |     ^^^^^^^^^
    |
    = note: `TargetState` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis
    = note: `#[warn(dead_code)]` on by default

warning: fields `r_adaptive_hr`, `r_adaptive_hrv`, `r_adaptive_resp`, and `r_adaptive_valence` are never read
   --> crates/zenb-core/src/estimators/ukf.rs:168:5
    |
142 | pub struct UkfStateEstimator {
    |            ----------------- fields in this struct
...
168 |     r_adaptive_hr: f32,
    |     ^^^^^^^^^^^^^
169 |     r_adaptive_hrv: f32,
    |     ^^^^^^^^^^^^^^
170 |     r_adaptive_resp: f32,
    |     ^^^^^^^^^^^^^^^
171 |     r_adaptive_valence: f32,
    |     ^^^^^^^^^^^^^^^^^^

warning: unnecessary parentheses around function argument
   --> crates/zenb-core/src/memory/hologram.rs:545:41
    |
545 | ...mplex32::new(((i as f32 * 0.01 + j as f32 * 0.1).sin()), 0.0))
    |                 ^                                        ^
    |
    = note: `#[warn(unused_parens)]` on by default
help: remove these parentheses
    |
545 -                 .map(|j| Complex32::new(((i as f32 * 0.01 + j as f32 * 0.1).sin()), 0.0))
545 +                 .map(|j| Complex32::new((i as f32 * 0.01 + j as f32 * 0.1).sin(), 0.0))
    |

warning: unused import: `std::path::Path`
 --> crates/zenb-core/src/tests_config.rs:6:9
  |
6 |     use std::path::Path;
  |         ^^^^^^^^^^^^^^^

warning: unused import: `ZenbConfig`
  --> crates/zenb-core/src/tests_proptest.rs:11:25
   |
11 |     use crate::{Engine, ZenbConfig};
   |                         ^^^^^^^^^^

warning: unused variable: `t`
  --> crates/zenb-core/src/breath_engine.rs:96:14
   |
96 |         let (t, c) = be.tick(1_000_000);
   |              ^ help: if this is intentional, prefix it with an underscore: `_t`
   |
   = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `xtx`
   --> crates/zenb-core/src/causal/dagma.rs:274:46
    |
274 | ...&self, w: &DMatrix<f32>, xtx: &DMatrix<f32>, data: &DMatrix<f32>) ->...
    |                             ^^^ help: if this is intentional, prefix it with an underscore: `_xtx`

warning: variable does not need to be mutable
   --> crates/zenb-core/src/edge.rs:339:13
    |
339 |         let mut specs = EdgeDeviceSpecs::mobile(2048.0, 0.15, true);
    |             ----^^^^^
    |             |
    |             help: remove this `mut`

warning: unused variable: `i`
   --> crates/zenb-core/src/memory/hologram.rs:576:9
    |
576 |     for i in 0..10 {
    |         ^ help: if this is intentional, prefix it with an underscore: `_i`

warning: unused variable: `normal_anomalous`
   --> crates/zenb-core/src/perception/sheaf.rs:521:17
    |
521 |         let (_, normal_anomalous, _) = perception.process(&normal);
    |                 ^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_normal_anomalous`

warning: unused variable: `suspicious_anomalous`
   --> crates/zenb-core/src/perception/sheaf.rs:522:17
    |
522 |         let (_, suspicious_anomalous, energy) = perception.process(&ano...
    |                 ^^^^^^^^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_suspicious_anomalous`

warning: unused variable: `c`
   --> crates/zenb-core/src/phase_machine.rs:124:17
    |
124 |         let (t, c) = pm.tick(500);
    |                 ^ help: if this is intentional, prefix it with an underscore: `_c`

warning: unused variable: `c`
   --> crates/zenb-core/src/phase_machine.rs:126:17
    |
126 |         let (t, c) = pm.tick(1_000);
    |                 ^ help: if this is intentional, prefix it with an underscore: `_c`

warning: unused variable: `t`
   --> crates/zenb-core/src/phase_machine.rs:128:14
    |
128 |         let (t, c) = pm.tick(10_000);
    |              ^ help: if this is intentional, prefix it with an underscore: `_t`

warning: unused variable: `result`
   --> crates/zenb-core/src/safety/dharma.rs:598:13
    |
598 |         let result = filter.sanction(extreme);
    |             ^^^^^^ help: if this is intentional, prefix it with an underscore: `_result`

warning: unused variable: `effect`
  --> crates/zenb-core/src/tests_scientist_integration.rs:58:9
   |
58 |     let effect = eng.causal_graph.get_effect(Variable::HeartRate, Variab...
   |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_effect`

warning: unused variable: `e1`
  --> crates/zenb-core/src/tests_estimator.rs:86:9
   |
86 |     let e1 = est.ingest(&[60.0, 40.0, 6.0], 0);
   |         ^^ help: if this is intentional, prefix it with an underscore: `_e1`

warning: unused variable: `est1`
  --> crates/zenb-core/src/tests_proptest.rs:48:17
   |
48 |             let est1 = engine.ingest_sensor(&features, ts1);
   |                 ^^^^ help: if this is intentional, prefix it with an underscore: `_est1`

warning: comparison is useless due to type limits
  --> crates/zenb-core/src/breath_engine.rs:98:17
   |
98 |         assert!(c >= 0);
   |                 ^^^^^^
   |
   = note: `#[warn(unused_comparisons)]` on by default

warning: comparison is useless due to type limits
   --> crates/zenb-core/src/phase_machine.rs:130:17
    |
130 |         assert!(c >= 0);
    |                 ^^^^^^

warning: `zenb-core` (lib) generated 17 warnings (run `cargo fix --lib -p zenb-core` to apply 7 suggestions)
warning: `zenb-core` (lib test) generated 34 warnings (16 duplicates) (run `cargo fix --lib -p zenb-core --tests` to apply 4 suggestions)
warning: struct `TrackingAllocator` is never constructed
   --> crates/zenb-core/tests/skandha_benchmark.rs:315:12
    |
315 |     struct TrackingAllocator;
    |            ^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: unused imports: `BreathEngine` and `BreathMode`
 --> crates/zenb-core/tests/integration_test.rs:2:32
  |
2 | use zenb_core::breath_engine::{BreathEngine, BreathMode};
  |                                ^^^^^^^^^^^^  ^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `FeatureConfig`
 --> crates/zenb-core/tests/efe_integration.rs:1:25
  |
1 | use zenb_core::config::{FeatureConfig, ZenbConfig};
  |                         ^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `zenb_core::domain::ControlDecision`
 --> crates/zenb-core/tests/efe_integration.rs:2:5
  |
2 | use zenb_core::domain::ControlDecision;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `zenb_core::policy::ActionPolicy`
 --> crates/zenb-core/tests/efe_integration.rs:4:5
  |
4 | use zenb_core::policy::ActionPolicy; // Import ActionPolicy for checks
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused variable: `policy_info`
  --> crates/zenb-core/tests/efe_integration.rs:25:23
   |
25 |     let (decision, _, policy_info, deny_reason) = engine.make_control(&e...
   |                       ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_policy_info`
   |
   = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `deny_reason`
  --> crates/zenb-core/tests/efe_integration.rs:25:36
   |
25 | ...ision, _, policy_info, deny_reason) = engine.make_control(&est, 1_000...
   |                           ^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_deny_reason`

warning: unused variable: `old_beta`
  --> crates/zenb-core/tests/efe_integration.rs:54:9
   |
54 |     let old_beta = engine.efe_precision_beta;
   |         ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_old_beta`

warning: `zenb-core` (test "skandha_benchmark") generated 1 warning
warning: `zenb-core` (test "integration_test") generated 1 warning (run `cargo fix --test "integration_test"` to apply 1 suggestion)
warning: `zenb-core` (test "efe_integration") generated 6 warnings (run `cargo fix --test "efe_integration"` to apply 3 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.12s
     Running unittests src/lib.rs (target/debug/deps/zenb_core-baca554d086cd208)

running 1 test
Scientist State: "Observing"
Crystallized: []
Rejected: [CausalHypothesis { from_variable: 0, to_variable: 1, strength: 1.0000001, confidence: 0.3, edge_type: Inhibitory }]

thread 'tests_scientist_integration::test_scientist_wires_discovery_to_causal_graph' panicked at crates/zenb-core/src/tests_scientist_integration.rs:71:5:
Scientist should have wired a causal link from HeartRate
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
test tests_scientist_integration::test_scientist_wires_discovery_to_causal_graph ... FAILED

failures:

failures:
    tests_scientist_integration::test_scientist_wires_discovery_to_causal_graph

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 253 filtered out; finished in 0.03s

error: test failed, to rerun pass `-p zenb-core --lib`
